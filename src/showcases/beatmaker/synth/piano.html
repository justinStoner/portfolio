<template>
  <require from="./components/piano-key"></require>
  <require from="../components/sound-wave"></require>
  <require from="../components/mute-button"></require>
  <require from="../components/knob"></require>
  <require from="./styles/synth.css"></require>
  <require from='./components/oscillator'></require>
  <div class="au-animate col l7 m12">
      <div class="card" id="piano">
        <sound-wave ab.bind='ab' canvas-id='piano' style=""></sound-wave>
        <div class="card-content" style="padding:0 0.75rem" >
          <div class="row">
            <form class="col m4">
              <oscillator gain.two-way="lfoData.gain" wave.two-way="lfoData.wave" freq.two-way="lfoData.freq" type='Lfo' modtype.two-way="lfoData.modType" detune.two-way="lfoData.detune" osc1.two-way="lfoData.osc1" osc2.two-way="lfoData.osc2"></oscillator>
            </form>
            <form class="col m4" repeat.for="osc of oscillators">
              <oscillator volume.two-way="osc.volume" wave.two-way="osc.wave" octave.two-way="osc.octave" index.bind="$index" type='oscillator' detune.two-way="osc.detune"></oscillator>
            </form>
          </div>
          <div class="row">
            <form class="col m6">
              <div id="filter" class="row grey lighten-3 z-depth-1 b-radius-card">
                <p>Filter</p>
                <div class="row">
                  <div class="col m3 s6">
                    <knob min="0" max="100" label="Cutoff" val.two-way="lpfCutoff" style="display:inline-block;"></knob>
                  </div>
                  <div class="col m3 s6">
                    <knob min="0" max="20" label="Q" val.two-way="lpfQ" style="display:inline-block;"></knob>
                  </div>
                  <div class="col m3 s6">
                    <knob min="0" max="100" label="Mod" val.two-way="lpfMod" style="display:inline-block;"></knob>
                  </div>
                  <div class="col m3 s6">
                    <knob min="0" max="100" label="Env" val.two-way="lpfEnv" style="display:inline-block;"></knob>
                  </div>
                </div>
              </div>
            </form>
            <form class="col m6">
              <div id="filter" class="row grey lighten-3 z-depth-1 b-radius-card">
                <p>Volume Envelope</p>
                <div class="row">
                  <div class="col m3 s6">
                    <knob min="0" max="100" label="Attack" val.two-way="envA" style="display:inline-block;"></knob>
                  </div>
                  <div class="col m3 s6">
                    <knob min="0" max="100" label="Decay" val.two-way="envD" style="display:inline-block;"></knob>
                  </div>
                  <div class="col m3 s6">
                    <knob min="0" max="100" label="Sustain" val.two-way="envS" style="display:inline-block;"></knob>
                  </div>
                  <div class="col m3 s6">
                    <knob min="0" max="100" label="Relase" val.two-way="envR" style="display:inline-block;"></knob>
                  </div>
                </div>
              </div>
            </form>
          </div>
          <div class="row">
            <form class="col m6">
              <div id="filter" class="row grey lighten-3 z-depth-1 b-radius-card">
                <p>Filter Envelope</p>
                <div class="row">
                  <div class="col m3 s6">
                    <knob min="0" max="100" label="Attack" val.two-way="lpfA" style="display:inline-block;"></knob>
                  </div>
                  <div class="col m3 s6">
                    <knob min="0" max="100" label="Decay" val.two-way="lpfD" style="display:inline-block;"></knob>
                  </div>
                  <div class="col m3 s6">
                    <knob min="0" max="100" label="Sustain" val.two-way="lpfS" style="display:inline-block;"></knob>
                  </div>
                  <div class="col m3 s6">
                    <knob min="0" max="100" label="Relase" val.two-way="lpfR" style="display:inline-block;"></knob>
                  </div>
                </div>
              </div>
            </form>
          </div>
          <div class="row" style="margin-bottom:0;">
            <div class="col s12" id='right' style="padding:0;height:90%">
              <div class="col s1" style="padding:0;margin-right: 0px;">
                <div class="input-field" style="margin-top:0;">
                  <button class="btn waves-effect waves-light blue" style="display:inline-block;width:30px;padding:0;margin-right:5px;"><i class="material-icons">remove</i></button>
                  <input style="width:34px;" >
                  <button class="btn waves-effect waves-light blue" style="display:inline-block;width:30px;padding:0;margin-left:5px;" ><i class="material-icons">add</i></button>
                </div>
                <div class="range-field inline" style="float:left;">
                  <input type="range" style="">
                </div>
                <div class="range-field inline" style="float:left;">
                  <input type="range" style="">
                </div>
              </div>
              <piano-key class="${note.color?'white'+$index:'black'+$index}" repeat.for="note of notes" index.bind="$index"  assigned.bind="note.assigned" key.bind="note" containerLess></piano-key>
            </div>
          </div>
        </div>
      </div>
  </div>
</template>
