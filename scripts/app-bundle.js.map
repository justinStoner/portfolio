{"version":3,"sources":["about.js","app.js","environment.js","main.js","showcase.js","work.js","resources/index.js","showcases/beatmaker/beat-maker.js","showcases/beatmaker/components/audio-bus.js","showcases/beatmaker/components/edit-effects.js","showcases/beatmaker/components/knob.js","showcases/beatmaker/components/mute-button.js","showcases/beatmaker/components/sound-wave.js","showcases/beatmaker/effects/compressor.js","showcases/beatmaker/effects/delay.js","showcases/beatmaker/effects/equalizer.js","showcases/beatmaker/sequencer/sequencer.js","showcases/beatmaker/synth/piano.js","showcases/beatmaker/synth/components/oscillator.js","showcases/beatmaker/synth/components/piano-key.js","C:/Users/justinstoner/Desktop/portfolio/node_modules/aurelia-dialog/dist/amd/ai-dialog.js","C:/Users/justinstoner/Desktop/portfolio/node_modules/aurelia-dialog/dist/amd/ai-dialog-header.js","C:/Users/justinstoner/Desktop/portfolio/node_modules/aurelia-dialog/dist/amd/dialog-controller.js","C:/Users/justinstoner/Desktop/portfolio/node_modules/aurelia-dialog/dist/amd/lifecycle.js","C:/Users/justinstoner/Desktop/portfolio/node_modules/aurelia-dialog/dist/amd/dialog-result.js","C:/Users/justinstoner/Desktop/portfolio/node_modules/aurelia-dialog/dist/amd/ai-dialog-body.js","C:/Users/justinstoner/Desktop/portfolio/node_modules/aurelia-dialog/dist/amd/ai-dialog-footer.js","C:/Users/justinstoner/Desktop/portfolio/node_modules/aurelia-dialog/dist/amd/attach-focus.js","C:/Users/justinstoner/Desktop/portfolio/node_modules/aurelia-dialog/dist/amd/dialog-configuration.js","C:/Users/justinstoner/Desktop/portfolio/node_modules/aurelia-dialog/dist/amd/renderer.js","C:/Users/justinstoner/Desktop/portfolio/node_modules/aurelia-dialog/dist/amd/dialog-renderer.js","C:/Users/justinstoner/Desktop/portfolio/node_modules/aurelia-dialog/dist/amd/dialog-options.js","C:/Users/justinstoner/Desktop/portfolio/node_modules/aurelia-dialog/dist/amd/dialog-service.js","C:/Users/justinstoner/Desktop/portfolio/src/about.html","styles/main.scss","C:/Users/justinstoner/Desktop/portfolio/src/app.html","showcases/beatmaker/styles/main.scss","C:/Users/justinstoner/Desktop/portfolio/src/showcase.html","showcases/beatmaker/sequencer/styles/sequencer.scss","C:/Users/justinstoner/Desktop/portfolio/src/work.html","C:/Users/justinstoner/Desktop/portfolio/src/showcases/beatmaker/beat-maker.html","showcases/beatmaker/synth/styles/synth.scss","C:/Users/justinstoner/Desktop/portfolio/src/showcases/beatmaker/components/edit-effects.html","C:/Users/justinstoner/Desktop/portfolio/src/showcases/beatmaker/components/knob.html","C:/Users/justinstoner/Desktop/portfolio/src/showcases/beatmaker/components/mute-button.html","C:/Users/justinstoner/Desktop/portfolio/src/showcases/beatmaker/components/sound-wave.html","C:/Users/justinstoner/Desktop/portfolio/src/showcases/beatmaker/effects/compressor.html","C:/Users/justinstoner/Desktop/portfolio/src/showcases/beatmaker/effects/delay.html","C:/Users/justinstoner/Desktop/portfolio/src/showcases/beatmaker/effects/equalizer.html","C:/Users/justinstoner/Desktop/portfolio/src/showcases/beatmaker/sequencer/sequencer.html","C:/Users/justinstoner/Desktop/portfolio/src/showcases/beatmaker/synth/piano.html","C:/Users/justinstoner/Desktop/portfolio/src/showcases/beatmaker/synth/components/oscillator.html","C:/Users/justinstoner/Desktop/portfolio/src/showcases/beatmaker/synth/components/piano-key.html"],"names":["About","App","ea","activate","attached","window","addEventListener","publish","configureRouter","config","router","console","log","title","map","route","name","moduleId","href","nav","auth","debug","testing","configure","Promise","longStackTraces","warnings","wForgottenReturn","aurelia","use","standardConfiguration","plugin","useDefaults","settings","lock","centerHorizontalOnly","startingZIndex","feature","developmentLogging","start","then","setRoot","Showcase","Work","BeatMaker","ab","AudioBus","audio","AudioContext","webkitAudioContext","analyser","createAnalyser","connect","destination","fftSize","bufferLength","dataArray","Uint8Array","input","createGain","output","synthIn","drumsIn","createEq","createDelay","createCompressor","subscribe","eq80","gain","value","msg","eq350","eq720","eq16k","eq5k","delay","delayTime","feedback","wetLevel","compressor","attack","release","threshold","knee","ratio","dInput","dOutput","createBiquadFilter","frequency","type","createDynamicsCompressor","EditEffects","dialog","model","$","tabs","KnobCustomElement","Element","e","element","label","knob","Knob","children","Ui","P1","P2","preset","update","onchange","channel","prototype","Object","create","createElement","apply","arguments","addComponent","Pointer","pointerWidth","pointerHeight","width","offset","Scale","merge","options","drawScale","drawDial","radius","circle","El","Circle","height","el","node","appendChild","setAttribute","Arc","arcWidth","arc","setAngle","anglerange","MuteButtonCustomElement","SoundWave","canvas","bgEl","style","marginTop","bgColor","fgColor","canvasId","canvasCtx","getContext","document","getElementById","draw","getByteTimeDomainData","fillStyle","fillRect","lineWidth","strokeStyle","beginPath","sliceWidth","x","i","v","y","moveTo","lineTo","stroke","drawVisual","requestAnimationFrame","bind","Compressor","Delay","dTime","dFeed","dWet","Equalizer","eq1","eq2","eq3","eq4","eq5","SequencerCustomElement","http","useStandardConfiguration","withDefaults","headers","kick","snare","timeoutId","notePlaying","drums","playing","loopLength","tempo","volume","scheduled","Array","ii","samples","sample","length","obj","sound","loadSample","push","fetch","res","arrayBuffer","decodeAudioData","buffer","playSound","time","src","createBufferSource","playSample","changeTempo","up","handlePlay","noteTime","startTime","currentTime","rhythmIndex","schedule","cancelAnimationFrame","addNote","srcElement","classList","remove","add","clearNote","handleStop","contextPlayTime","advanceNote","secondsPerBeat","Piano","octaves","waves","A4","oscillators","createVoices","lfoData","wave","detune","osc1","osc2","osc3","freq","modType","oscPresets","octave","masterVol","modMult","master","effectOutput","lpfCutoff","lpfQ","lpfMod","lpfEnv","envA","envD","envS","envR","lpfA","lpfD","lpfS","lpfR","notes","note","hz","color","key","isPlaying","play","stop","playKey","index","stopKey","openEffects","open","viewModel","a","b","c","canDeactivate","s","String","fromCharCode","keyCode","toUpperCase","lfo","createOscillator","Q","Math","abs","modfilterGain","now","atkEnd","setValueAtTime","linearRampToValueAtTime","setTargetAtTime","filterAttackLevel","filterSustainLevel","filterAttackEnd","cancelScheduledValues","arr","voice","UpperValueConverter","toView","Oscillator","PianoKeyCustomElement","piano"],"mappings":"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X,aAAOA,SAASA,MAAM8N,WAAN,EAAhB;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MC3UUoB,qBAAAA,uBAeX,sBAAa;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAEZ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MCZUC,gCAAAA,gCADZ,8BAAOvN,OAAP;AAOC,mCAAYE,OAAZ,EAAqBsN,KAArB,EAA4BvT,EAA5B,EAA+B;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAC7B,WAAKiG,OAAL,GAAaA,OAAb;AACA,WAAKjG,EAAL,GAAQA,EAAR;AACD;;oCACAE,+BAAU,CAET;;oCACD+Q,uBAAM;AACJ,WAAKjR,EAAL,CAAQK,OAAR,CAAgB,UAAhB,EAA4B,EAAC+Q,OAAM,KAAKA,KAAZ,EAA5B;AACD;;oCACDF,uBAAM;AACJ,WAAKlR,EAAL,CAAQK,OAAR,CAAgB,UAAhB,EAA4B,EAAC+Q,OAAM,KAAKA,KAAZ,EAA5B;AACD;;;;;;;;;;;;;;;;;ACxBJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5GA;ACEA,IAAI,CAAA;ACFJ,EDGE,gBAAgB,EAHH,IAAI,GAIlB;AEJD,AAAc,aAAD,CAAC,IAAI,CAAA;ACAlB,AHKA,AAAI,EEJF,CFIC,CAAC,IEJI,EAAE,CAAE,GACX,CFGc;AILf,AAAQ,AJMR,IINI,IAAI,GJMG,CINC,AJMD,CINC;ACAZ,AHGA,EEFE,AJMA,OINO,CFEC,CEFC,AFED,CEFG,CJMA,EAAE,IAAK;AMPpB,EFEE,AFEA,AFIA,OEJO,EAAE,AFIA,EAAE,EINE,EAAC,AJME,GACjB,CELqB,GEFE,GAMvB;AGRD,EHAA,AAGE,AFEA,IELE,CGAG,CAAA,EHAC,IAAI,CAGV,IAAI,CAAA,kBFEgC;AMLtC,CRUA,AAAU,CEJR,AKLA,EHGE,IFEI,AFIP,EEJS,AFIA,CINC,CGHC,CHGC,CFEE,AKLF,IAAK,EHGG,CGFpB,EHIE,AJIoB,CAAC;ASVxB,EPOE,AFIA,OEJO,CFIC,CEJC,CFIC,KEJM,CFIC,EEHlB,CFIA;AUZD,ANSA,AGNA,AAAM,KAAD,CHMC,AGNA,MHMD,IGNW,CAAA,CHML,MAAM,SAAS,EAAE,KAAK;AOTjC,ATSA,AFIA,EIHE,AAAG,AGNH,EHME,GAAC,EAAE,CAAA,CFDI,CAAA,MKLO,CPSC,COTC,APSD,OOTS,GAC3B;AKLD,EVUE,AFIA,EIHE,IJGI,CEJC,CFIC,CIHC,AFDA,EECE,EJGG,GACf,EIJoB,CFDC,EEEnB;ASZH,ANMA,AACE,EHMA,AAAK,AFFL,EEEE,AGPA,CACF,CAAC,CHME,AGNF,EHMI,YAAY,CAAA,eFFkB;AYXrC,AdgBA,EEJE,AKJE,EHMA,IFFI,EAAE,CEEC,CGNG,CHMD,CFFE,AKJC,APQF,CAAA,CIFG,GACd,CGPoB,GACpB;AQTH,EbaE,AFIA,OEJO,EAAE,IFII,EEJG,AFID,GEHhB,QFG4B,GAC5B;AgBlBD,ATMA,AAIE,IAJE,CAIF,GAAG,CAAA;AUVL,AfeA,AAAY,AFIZ,AAAI,EORA,CPQD,CAAC,IORM,APQF,CAAA,CORG,CLIA,GAAC,EKJM,CLIH,EKHZ;AWZH,AhBgBA,AAAW,EFIT,IAAI,EAAC,EEJG,GAAC,EFII,CEJD,CAAA;AKFd,AAAK,ELGH,AFIA,EOPE,GAAC,CLGG,AKHF,APOE,COPF,CLGI,AFID,GEJK,CFIA,EEHb,CFIA;EOPC,aAAa,EAAE,cAAe,GAE/B;ALED,AAAQ,AFIR,AAAQ,GAAL,CAAC,GEJG,CFIC,EEJA,KAAK,CAAA,IFIO,CAAA;AOLpB,AAEI,ELAF,AFIA,MAAM,EONE,APMD,COLP,GPKY,COLR,CACF,ELAc,EAAE,AKAZ,CAAA,MLAoB,GAC3B;EKAK,APIJ,IAAI,EAAC,COJM,EAAE,CAAE,APIL,GOHP,APKJ;AELD,AAAuB,YAAX,OAAO,IAAI,GAAG,CAAA;AKG1B,AACU,APEV,AAEU,EEPR,EKEE,CACF,CPEI,CAEJ,COJG,EPIA,CAAC,CEPM,CKGF,CLHI,CFOJ,KEPW,GACpB,AKEmB,CAAA,GPIE;AADtB,AACU,EOHN,OAAO,EAAC,UPES,CACnB,GAAG,CAAC,IAAI,QOH8B,GACrC,CPEmB,CAAA;AELtB,AAAK,EFMD,GENC,CFMG,EENA,AFMC,CEND,GFMM,GACX;AOFH,ELJE,SAAS,CKIC,CLJC,AKID,MLJQ;AFEpB,AAKM,EENJ,AKIA,IPHI,CAKJ,GAAG,CAAC,COFM,EAAE,CAAE,APEN,GODT,kBLLmC;AFEpC,AAIM,EELJ,GAAG,EAAC,cFCe,CAInB,CELqB,EFKlB,CAAC,IAAI,CAAA;AOAV,ELJE,AFKE,EODA,CAAA,CLJE,EAAE,AFKE,EAAC,IAAK,SELQ,GACvB;EKIC,APCE,IAAI,EAAC,IODG,EAAE,CPCG,GAEd,MOHsB;ALHzB,EKIE,KAAK,EAAC,MLJO,CAAA,UKIW;API1B,AAEE,EETA,AKIA,OAAO,EAAC,CLJE,EAAE,AFOA,CAEZ,EETgB,GACjB,GKGsB,EPKX,CAAA;EOJV,APKE,OOLK,EAAC,CPKI,EAAE,SOLO,SPKY,GAChC;AETH,AAAgB,EKGQ,QAAQ,EAAE,GLHnB,GAAC,CKG0B,GACzC,CLJoB,CAAA;AFKrB,AAMK,EEVH,KAAK,EAAC,KFIM,CAKZ,EAAE,CACA,CAAC,OAAO,CEVe,AFUf,GETX;AKGD,AACE,EPMI,EOPF,CACF,EAAE,APMO,CONP,CPMS,kBAAmB,GAC3B;AEPL,EKCI,QLDM,CAAA,CKCI,EAAE,MAAO;APFvB,AASI,EEPF,AKCE,MAAM,ELDA,AKCE,CAAE,CLDF,EFFE,CAKZ,EAAE,CAIA,CAAC,CEPgB,AFOhB;EENH,AKCE,APME,KAAK,EAAC,EONC,EAAE,ELDA,EAAE,EKCK,CLDD,EKElB,KPK4B,GAC1B;EEPH,QAAQ,EAAE,MAAO;AKJnB,AAME,APQF,EETE,EKLE,CAMF,CPQI,EORD,CLDI,AKCJ,ELDM,CAAE,AFSR,GEDJ,GFCU,MAAM,SAAS,EAAE,KAAK;EEbjC,AAQE,AKFE,APQF,AAAI,GAAD,CAAC,EORI,EAAE,ELNF,CAQR,IFMe,CAAC,CENV,AKFc,CLEd;EKDJ,ELEA,AFME,IORI,APQA,EENA,AKFE,APQA,EEND,EKFM,ELED,YFMe;EOP3B,ELEA,AFME,KENG,EAAC,IACP,AKHc,EAAE,CLGf,GFKmB,EAAE,SORU,MPQM;EOPrC,EPQE,KORK,EAAE,EPQE,EAAE,CORE,cPQc,GA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","file":"app-bundle.js","sourcesContent":["export class About{\r\n  constructor(){\r\n\r\n  }\r\n}\r\n","import {EventAggregator} from 'aurelia-event-aggregator';\nimport {inject} from 'aurelia-framework';\n@inject(EventAggregator)\nexport class App {\n  constructor(ea) {\n    this.ea=ea;\n  }\n  activate(){\n\n  }\n  attached(){\n    window.addEventListener('resize', ()=>{\n      this.ea.publish('resize');\n    });\n  }\n  configureRouter(config, router){\n    console.log('1');\n    config.title=\"Justin Stoner\";\n    config.map([\n      { route: ['', 'about'],  name: 'about', moduleId: 'about', href:'#/about', nav: true, title:'About' },\n      // { route: 'work',  name: 'work',      moduleId: 'work',      nav: true, title:'Work', auth:false, href:'#/work'},\n      { route: 'showcase',  name: 'showcase',      moduleId: 'showcase',      nav: true, title:'Showcase', auth:false }\n    ]);\n    this.router=router;\n  }\n}\n","export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\n//Configure Bluebird Promises.\nPromise.config({\n  longStackTraces: environment.debug,\n  warnings: {\n    wForgottenReturn: false\n  }\n});\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .plugin('aurelia-dialog', config => {\n      config.useDefaults();\n      config.settings.lock = false;\n      config.settings.centerHorizontalOnly = false;\n      config.settings.startingZIndex = 1031;\n    })\n    .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","export class Showcase{\r\n  constructor(){\r\n\r\n  }\r\n  configureRouter(config, router){\r\n    config.map([\r\n      { route: ['', 'beatmaker'],  name: 'beatmaker', moduleId: './showcases/beatmaker/beat-maker', href:'#/showcase/beatmaker', nav: true, title:'BeatMaker' }\r\n    ]);\r\n    this.router=router;\r\n  }\r\n}\r\n","export class Work{\r\n  constructor(){\r\n\r\n  }\r\n}\r\n","export function configure(config) {\n  //config.globalResources([]);\n}\n","import {AudioBus} from './components/audio-bus';\r\nimport {inject} from 'aurelia-framework';\r\n@inject(AudioBus)\r\nexport class BeatMaker{\r\n  constructor(ab){\r\n    this.ab=ab;\r\n  }\r\n\r\n}\r\n","import {EventAggregator} from 'aurelia-event-aggregator';\r\nimport {inject} from \"aurelia-framework\";\r\n@inject(EventAggregator)\r\nexport class AudioBus{\r\n  constructor(ea){\r\n    this.ea=ea;\r\n    this.audio = new (window.AudioContext || window.webkitAudioContext)();\r\n    this.analyser=this.audio.createAnalyser();\r\n    this.analyser.connect(this.audio.destination);\r\n    this.analyser.fftSize=2048;\r\n    this.bufferLength = this.analyser.fftSize;\r\n    this.dataArray = new Uint8Array(this.bufferLength);\r\n    this.input=this.audio.createGain();\r\n    this.output=this.audio.createGain();\r\n    this.synthIn=this.audio.createGain();\r\n    this.drumsIn=this.audio.createGain();\r\n    this.createEq();\r\n    this.createDelay();\r\n    this.createCompressor();\r\n    this.connect();\r\n\r\n    this.drumsIn.connect(this.input);\r\n    this.input.connect(this.output);\r\n    this.output.connect(this.analyser);\r\n      //delay:this.createDelay(),\r\n    this.ea.subscribe('eq1', msg=>{\r\n      this.eq80.gain.value=msg-40;\r\n    });\r\n    this.ea.subscribe('eq2', msg=>{\r\n      this.eq350.gain.value=msg-40;\r\n    });\r\n    this.ea.subscribe('eq3', msg=>{\r\n      this.eq720.gain.value=msg-40;\r\n    });\r\n    this.ea.subscribe('eq4', msg=>{\r\n      this.eq16k.gain.value=msg-40;\r\n    });\r\n    this.ea.subscribe('eq5', msg=>{\r\n      this.eq5k.gain.value=msg-40;\r\n    });\r\n\r\n    this.ea.subscribe('delayTime', msg=>{\r\n      this.delay.delayTime.value=msg/100\r\n    });\r\n    this.ea.subscribe('delayFeedback', msg=>{\r\n      this.feedback.gain.value=msg/100;\r\n    });\r\n    this.ea.subscribe('delayWet', msg=>{\r\n      this.wetLevel.gain.value=msg/100;\r\n    });\r\n\r\n    this.ea.subscribe('compAttack', msg=>{\r\n      this.compressor.attack.value=msg/100;\r\n    });\r\n    this.ea.subscribe('compRelease', msg=>{\r\n      this.compressor.release.value=msg/100;\r\n    });\r\n    this.ea.subscribe('compThresh', msg=>{\r\n      this.compressor.threshold.value=msg-100;\r\n    });\r\n    this.ea.subscribe('compKnee', msg=>{\r\n      this.compressor.knee.value=msg;\r\n    });\r\n    this.ea.subscribe('compRatio', msg=>{\r\n      this.compressor.ratio.value=msg;\r\n    });\r\n  }\r\n  connect(){\r\n    this.synthIn.connect(this.eq80);\r\n    this.eq80.connect(this.eq350);\r\n    this.eq350.connect(this.eq720);\r\n    this.eq720.connect(this.eq16k);\r\n    this.eq16k.connect(this.eq5k);\r\n    this.eq5k.connect(this.dInput);\r\n\r\n    this.dInput.connect(this.delay);\r\n    this.dInput.connect(this.dOutput);\r\n    this.delay.connect(this.feedback);\r\n    this.delay.connect(this.wetLevel);\r\n    this.feedback.connect(this.delay);\r\n    this.wetLevel.connect(this.dOutput);\r\n    this.dOutput.connect(this.compressor);\r\n    this.compressor.connect(this.input);\r\n  }\r\n  createEq(){\r\n    this.eq80=this.audio.createBiquadFilter();\r\n    this.eq350=this.audio.createBiquadFilter();\r\n    this.eq720=this.audio.createBiquadFilter();\r\n    this.eq16k=this.audio.createBiquadFilter();\r\n    this.eq5k=this.audio.createBiquadFilter();\r\n    this.eq80.frequency.value=80;\r\n    this.eq80.type=\"lowshelf\";\r\n    this.eq80.gain.value=0;\r\n    this.eq350.frequency.value=350;\r\n    this.eq350.type=\"peaking\";\r\n    this.eq350.gain.value=0;\r\n    this.eq720.frequency.value=720;\r\n    this.eq720.type=\"peaking\";\r\n    this.eq720.gain.value=0;\r\n    this.eq16k.frequency.value=1600;\r\n    this.eq16k.type=\"peaking\";\r\n    this.eq16k.gain.value=0;\r\n    this.eq5k.frequency.value=5000;\r\n    this.eq5k.type=\"highshelf\";\r\n    this.eq5k.gain.value=0;\r\n\r\n  }\r\n  createDelay(){\r\n    this.dInput=this.audio.createGain();\r\n    this.dOutput=this.audio.createGain();\r\n    this.delay = this.audio.createDelay(5.0);\r\n    this.feedback = this.audio.createGain();\r\n    this.wetLevel = this.audio.createGain();\r\n    this.delay.delayTime.value = 0.50;\r\n    this.feedback.gain.value = 0.15;\r\n    this.wetLevel.gain.value = 0.25;\r\n\r\n\r\n  }\r\n  createCompressor(){\r\n    this.compressor = this.audio.createDynamicsCompressor();\r\n    this.compressor.threshold.value = -50;\r\n    this.compressor.knee.value = 40;\r\n    this.compressor.ratio.value = 12;\r\n    //this.compressor.reduction.value = -20;\r\n    this.compressor.attack.value = 0.25;\r\n    this.compressor.release.value = 0.25;\r\n  }\r\n\r\n}\r\n","import {DialogController} from 'aurelia-dialog';\r\nimport {inject} from 'aurelia-framework';\r\nimport {AudioBus} from './audio-bus';\r\n@inject(AudioBus, DialogController)\r\nexport class EditEffects{\r\n  constructor(ab, dialog){\r\n    this.ab=ab;\r\n    this.dialog=dialog;\r\n  }\r\n  activate(model){\r\n    this.model=model;\r\n  }\r\n  attached(){\r\n    $('ul.tabs').tabs();\r\n    $('ul.tabs').tabs('select_tab', 'test2');\r\n  }\r\n}\r\n","import \"jquery-knob\";\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\nimport {inject, bindable} from \"aurelia-framework\"\r\n@inject(Element, EventAggregator)\r\nexport class KnobCustomElement{\r\n  @bindable min;\r\n  @bindable max;\r\n  @bindable label;\r\n  @bindable val;\r\n  @bindable labels;\r\n  @bindable offset;\r\n  @bindable range;\r\n  @bindable canvas;\r\n  @bindable preset;\r\n  @bindable channel;\r\n  constructor(e, ea){\r\n    this.element=e;\r\n    this.ea=ea;\r\n    // if(this.labels===null){\r\n    //   this.labels=\"0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10\"\r\n    // }\r\n  }\r\n  attached(){\r\n\r\n    if(this.label==='Wave' || this.label==='Octave'){\r\n      this.knob=new Knob(this.element.children[1], new Ui.P1());\r\n    }else{\r\n      this.knob=new Knob(this.element.children[1], new Ui.P2());\r\n    }\r\n    if(this.preset){\r\n      this.knob.update(this.preset);\r\n    }\r\n\r\n    this.knob.input.onchange = e =>{\r\n      console.log(this.knob.value);\r\n      if(this.channel){\r\n        this.ea.publish(this.channel, this.knob.value);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nUi.P1 = function() {\r\n\r\n};\r\n\r\nUi.P1.prototype = Object.create(Ui.prototype);\r\n\r\nUi.P1.prototype.createElement = function() {\r\n  \"use strict\";\r\n  Ui.prototype.createElement.apply(this, arguments);\r\n  this.addComponent(new Ui.Pointer({\r\n    type: 'Rect',\r\n    pointerWidth: 3,\r\n    pointerHeight: this.width / 4,\r\n    offset: this.width / 2 - this.width / 3.3 - this.width / 10\r\n  }));\r\n\r\n  this.addComponent(new Ui.Scale(this.merge(this.options, {\r\n    drawScale: false,\r\n    drawDial: true,\r\n    radius: this.width/2.6})));\r\n\r\n  var circle = new Ui.El.Circle(this.width / 3.3, this.width / 2, this.height / 2);\r\n  this.el.node.appendChild(circle.node);\r\n  this.el.node.setAttribute(\"class\", \"p1\");\r\n};\r\n\r\nUi.P2 = function() {\r\n};\r\n\r\nUi.P2.prototype = Object.create(Ui.prototype);\r\n\r\nUi.P2.prototype.createElement = function() {\r\n  \"use strict\";\r\n  Ui.prototype.createElement.apply(this, arguments);\r\n  this.addComponent(new Ui.Arc({\r\n    arcWidth: this.width / 10\r\n  }));\r\n  var circle = new Ui.El.Circle(this.width / 3.3, this.width / 2, this.height / 2);\r\n  this.addComponent(new Ui.Pointer(this.merge(this.options, {\r\n    type: 'Rect',\r\n    pointerWidth: 3,\r\n    pointerHeight: this.width / 4,\r\n    offset: this.width / 2 - this.width / 3.3 - this.width / 10\r\n  })));\r\n\r\n  this.merge(this.options, {arcWidth: this.width / 10});\r\n  var arc = new Ui.El.Arc(this.options);\n\r\n  arc.setAngle(this.options.anglerange);\r\n\r\n  this.el.node.appendChild(arc.node);\r\n  this.el.node.appendChild(circle.node);\r\n  this.el.node.setAttribute(\"class\", \"p2\");\r\n};\r\n","import {bindable} from 'aurelia-framework';\r\nexport class MuteButtonCustomElement{\r\n    @bindable muted\r\n    constructor(){\r\n\r\n    }\r\n}\r\n","import {EventAggregator} from 'aurelia-event-aggregator';\r\nimport {inject, bindable} from 'aurelia-framework';\r\n@inject(EventAggregator, Element)\r\nexport class SoundWave{\r\n  @bindable ab;\r\n  @bindable canvasId;\r\n  @bindable background;\r\n  constructor(ea, element){\r\n    this.ea=ea;\r\n    this.element=element;\r\n\r\n    this.ea.subscribe('resize', ()=>{\r\n      this.canvas.width=$(this.bgEl).width();\r\n      this.canvas.height=$(this.bgEl).height();\r\n      this.element.style.marginTop=$(this.bgEl).height() * -1 + 'px';\r\n    });\r\n  }\r\n  attached(){\r\n    this.bgColor=\"#2196f3\";\r\n    this.fgColor=\"#69f0ae\";\r\n    console.log(this.canvasId);\r\n    this.canvas=this.element.children[0];\r\n\r\n    this.canvasCtx = this.canvas.getContext('2d');\r\n    this.bgEl=document.getElementById(this.canvasId);\r\n    var width=$(this.bgEl).width();\r\n    var height=$(this.bgEl).height();\r\n    this.element.style.marginTop=height * -1 + 'px';\r\n    console.log(this.element.style);\r\n    this.canvas.width=width;\r\n    this.canvas.height=height;\r\n    this.draw();\r\n  }\r\n  draw(){\r\n\r\n    this.ab.analyser.getByteTimeDomainData(this.ab.dataArray);\r\n    this.canvasCtx.fillStyle = this.bgColor;\r\n    this.canvasCtx.fillRect(0, 0, this.canvas.width, this.canvas.height);\r\n    this.canvasCtx.lineWidth = 1;\r\n    this.canvasCtx.strokeStyle = this.fgColor;\r\n    this.canvasCtx.beginPath();\r\n\r\n    var sliceWidth = this.canvas.width * 1.0 / this.ab.bufferLength;\r\n    var x = 0;\r\n\r\n    for(var i = 0; i < this.ab.bufferLength; i++) {\r\n      var v = this.ab.dataArray[i] / 128.0;\r\n      var y = v * this.canvas.height/2;\r\n      if(i === 0) {\r\n        this.canvasCtx.moveTo(x, y);\r\n      } else {\r\n        this.canvasCtx.lineTo(x, y);\r\n      }\r\n      x += sliceWidth;\r\n    }\r\n    this.canvasCtx.lineTo(this.canvas.width, this.canvas.height/2);\r\n    this.canvasCtx.stroke();\r\n    //this.bgEl.style.background='url('+this.canvas.toDataURL('image/jpeg')+') no-repeat 100% 100%';\r\n    var drawVisual = requestAnimationFrame(this.draw.bind(this));\r\n  }\r\n}\r\n","import {AudioBus} from '../components/audio-bus';\r\nimport {inject} from 'aurelia-framework';\r\n@inject(AudioBus)\r\nexport class Compressor{\r\n  constructor(ab){\r\n    this.ab=ab;\r\n  }\r\n}\r\n","import {AudioBus} from '../components/audio-bus';\r\nimport {inject} from 'aurelia-framework';\r\n@inject(AudioBus)\r\nexport class Delay{\r\n  constructor(ab){\r\n    this.ab=ab;\r\n    this.dTime=75;\r\n    this.dFeed=50;\r\n    this.dWet=50;\r\n  }\r\n  // createDelay(){\r\n  //   this.input=this.ab.audio.createGain();\r\n  //   this.output=this.ab.audio.createGain();\r\n  //   this.delay = this.audio.createDelay(5.0);\r\n  //   this.feedback = this.ab.audio.createGain();\r\n  //   this.wetLevel = this.ab.audio.createGain();\r\n  //   this.delay.delayTime.value = this.dTime/100;\r\n  //   this.feedback.gain.value = this.dFeed/100;\r\n  //   this.wetLevel.gain.value = this.dWet/100;\r\n  // }\r\n}\r\n","import {AudioBus} from '../components/audio-bus';\r\nimport {inject} from 'aurelia-framework';\r\n@inject(AudioBus)\r\nexport class Equalizer{\r\n  constructor(ab){\r\n    this.eq1=0;\r\n    this.eq2=0;\r\n    this.eq3=0;\r\n    this.eq4=0;\r\n    this.eq5=0;\r\n    this.ab=ab;\r\n    //min, max: -40, 40\r\n  }\r\n  // createEq(){\r\n  //   this.eq80=this.ab.audio.createBiquadFilter();\r\n  //   this.eq350=this.ab.audio.createBiquadFilter();\r\n  //   this.eq720=this.ab.audio.createBiquadFilter();\r\n  //   this.eq16k=this.ab.audio.createBiquadFilter();\r\n  //   this.eq5k=this.ab.audio.createBiquadFilter();\r\n  //   this.eq80.frequency.value=80;\r\n  //   this.eq80.type=\"lowshelf\";\r\n  //   this.eq80.gain.value=this.eq1;\r\n  //   this.eq350.frequency.value=350;\r\n  //   this.eq350.type=\"peaking\";\r\n  //   this.eq350.gain.value=this.eq2;\r\n  //   this.eq720.frequency.value=720;\r\n  //   this.eq720.type=\"peaking\";\r\n  //   this.eq720.gain.value=this.eq3;\r\n  //   this.eq16k.frequency.value=1600;\r\n  //   this.eq16k.type=\"peaking\";\r\n  //   this.eq16k.gain.value=this.eq4;\r\n  //   this.eq5k.frequency.value=5000;\r\n  //   this.eq5k.type=\"highshelf\";\r\n  //   this.eq5k.gain.value=this.eq5;\r\n  //   this.eq80.connect(this.eq350);\r\n  //   this.eq350.connect(this.eq720);\r\n  //   this.eq720.connect(this.eq16k);\r\n  //   this.eq16k.connect(this.eq5k);\r\n  //   this.eq5k.connect(this.dInput);\r\n  // }\r\n}\r\n","import {inject} from \"aurelia-framework\";\r\nimport {HttpClient} from \"aurelia-fetch-client\";\r\nimport {AudioBus} from '../components/audio-bus';\r\n@inject(HttpClient, AudioBus)\r\nexport class SequencerCustomElement{\r\n    constructor(http, ab){\r\n      this.http=http;\r\n      this.http.configure(config=>{\r\n        config.useStandardConfiguration()\r\n        .withDefaults({\r\n          headers:{\r\n            \"Content-Type\":\"audio/mpeg\"\r\n          }\r\n        });\r\n      })\r\n      this.kick;\r\n      this.snare;\r\n      this.ab=ab;\r\n      this.audio=this.ab.audio;\r\n      this.timeoutId;\r\n      this.notePlaying=-1;\r\n      this.drums=[];\r\n      this.playing=false;\r\n      console.log(this.drums);\r\n      this.loopLength=16;\r\n      this.tempo=120;\r\n      this.volume=100;\r\n      this.scheduled=new Array(14);\r\n      for(var i=0; i<14; i++){\r\n        this.scheduled[i]=new Array(16);\r\n        for(var ii=0; ii<16; ii++){\r\n          this.scheduled[i][ii]=false;\r\n        }\r\n      }\r\n      for(var i=0; i<14; i++){\r\n        if(i==0){\r\n          this.scheduled[i][0]=true;\r\n          this.scheduled[i][4]=true;\r\n          this.scheduled[i][8]=true;\r\n          this.scheduled[i][12]=true;\r\n          this.scheduled[i][14]=true;\r\n        }else if(i==1){\r\n          this.scheduled[i][4]=true;\r\n          this.scheduled[i][12]=true;\r\n        }else if (i==2) {\r\n          this.scheduled[i][2]=true;\r\n        }else if(i==3){\r\n          this.scheduled[i][6]=true;\r\n          this.scheduled[i][10]=true;\r\n          this.scheduled[i][14]=true;\r\n        }else if (i==10) {\r\n          this.scheduled[i][4]=true;\r\n          this.scheduled[i][6]=true;\r\n          this.scheduled[i][12]=true;\r\n        }\r\n      }\r\n      console.log(this.scheduled);\r\n      this.samples=[\r\n        {name:'kick',sample:'Roland_TR-33_Kick'},\r\n        {name:'snare',sample:'Roland_TR-33_Snare'},\r\n        {name:'hh open',sample:'Roland_TR-33_HH Op'},\r\n        {name:'hh close',sample:'Roland_TR-33_HH Cl'},\r\n        {name:'tom hi',sample:'Roland_TR-33_Tom Hi'},\r\n        {name:'tom med',sample:'Roland_TR-33_Tom Mi'},\r\n        {name:'tom low',sample:'Roland_TR-33_Tom Lo'},\r\n        {name:'bongo hi',sample:'Roland_TR-33_Bongo Hi'},\r\n        {name:'bongo med',sample:'Roland_TR-33_Bongo Mi'},\r\n        {name:'bongo low',sample:'Roland_TR-33_Bongo Lo'},\r\n        {name:'conga hi',sample:'Roland_TR-33_Conga Hi'},\r\n        {name:'conga med',sample:'Roland_TR-33_Conga Mi'},\r\n        {name:'conga low',sample:'Roland_TR-33_Conga Lo'},\r\n        {name:'clave',sample:'Roland_TR-33_Clave'}\r\n      ]\r\n    }\r\n    attached(){\r\n      for(var i=0;i<this.samples.length;i++){\r\n        var obj={\r\n          name:this.samples[i].name,\r\n          sound:this.loadSample(this.samples[i].sample, i),\r\n          scheduled:[]\r\n        }\r\n        this.drums.push(obj);\r\n      }\r\n      this.gain=this.ab.audio.createGain();\r\n      this.gain.value=1.0;\r\n    }\r\n    loadSample(type, i){\r\n      this.http.fetch(\"audio/roland-tr-33/\"+type+\".wav\")\r\n      .then(res=>res.arrayBuffer())\r\n      .then(res=>{\r\n        this.audio.decodeAudioData(res, (buffer)=>{\r\n          this.drums[i].sound=buffer;\r\n        })\r\n      })\r\n    }\r\n    playSound(buffer, time){\r\n      var src=this.audio.createBufferSource();\r\n      console.log(src);\r\n      src.buffer=buffer;\r\n      src.connect(this.gain);\r\n      this.gain.connect(this.ab.drumsIn);\r\n      this.gain.gain.value=this.volume/50;\r\n      console.log(this.gain)\r\n      src.start(time);\r\n    }\r\n    playSample(buffer){\r\n      var src=this.audio.createBufferSource();\r\n      src.buffer=buffer;\r\n      src.connect(this.gain);\r\n      this.gain.connect(this.ab.drumsIn);\r\n      this.gain.gain.value=this.volume/50;\r\n      console.log(this.gain);\r\n      src.start(0);\r\n    }\r\n    changeTempo(up){\r\n      //bugged\r\n      if(up){\r\n        this.tempo=this.tempo+=4;\r\n      }else{\r\n        if(this.tempo>4){\r\n          this.tempo-=4;\r\n        }\r\n      }\r\n    }\r\n    handlePlay() {\r\n      if(!this.playing){\r\n        this.noteTime = 0.0;\r\n        this.startTime = this.audio.currentTime + 0.005;\r\n        this.rhythmIndex = 0;\r\n        this.notePlaying=0;\r\n        this.schedule();\r\n        this.playing=true;\r\n      }else{\r\n        this.playing=false;\r\n        cancelAnimationFrame(this.timeoutId);\r\n        this.notePlaying=-1;\r\n      }\r\n    }\r\n    addNote(e, i, ii){\r\n      console.log(i);\r\n      if(this.scheduled[i][ii]==true){\r\n        this.scheduled[i][ii]=false\r\n        e.srcElement.classList.remove('blue');\r\n        e.srcElement.classList.add('green');\r\n        e.srcElement.classList.add('accent-3');\r\n      }else{\r\n        this.scheduled[i][ii]=true;\r\n        e.srcElement.classList.remove('green');\r\n        e.srcElement.classList.remove('accent-3');\r\n        e.srcElement.classList.add('blue');\r\n      }\r\n\r\n    }\r\n    clearNote(i, ii){\r\n\r\n    }\r\n    handleStop() {\r\n\r\n    }\r\n\r\n    schedule() {\r\n      var currentTime = this.audio.currentTime;\r\n      // The sequence starts at startTime, so normalize currentTime so that it's 0 at the start of the sequence.\r\n      currentTime -= this.startTime;\r\n      while (this.noteTime < currentTime + 0.200) {\r\n        var contextPlayTime = this.noteTime + this.startTime;\r\n        for(var i=0;i<this.scheduled.length;i++){\r\n          if(this.scheduled[i][this.rhythmIndex]===true){\r\n            this.playSound(this.drums[i].sound, contextPlayTime);\r\n          }\r\n        }\r\n        this.advanceNote();\r\n      }\r\n      this.timeoutId = requestAnimationFrame(this.schedule.bind(this))\r\n    }\r\n\r\n    advanceNote() {\r\n        var secondsPerBeat = 60.0 / this.tempo;\r\n        this.rhythmIndex++;\r\n        if (this.rhythmIndex == this.loopLength) {\r\n            this.rhythmIndex = 0;\r\n        }\r\n        this.notePlaying=this.rhythmIndex;\r\n        this.noteTime += 0.25 * secondsPerBeat;\r\n    }\r\n}\r\n","import {AudioBus} from '../components/audio-bus';\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\nimport {inject} from 'aurelia-framework';\r\nimport {DialogService} from 'aurelia-dialog';\r\nimport {EditEffects} from '../components/edit-effects';\r\n@inject(AudioBus, EventAggregator, DialogService)\r\nexport class Piano{\r\n  constructor(ab, ea, dialog){\r\n    this.ab=ab;\r\n    this.ea=ea;\r\n    this.audio=this.ab.audio;\r\n    this.dialog=dialog;\r\n    this.canvas=\"piano\";\r\n    this.octaves=[-3,-2,-1,0,1,2,3];\r\n    this.waves=['sine', 'sawtooth', 'square', 'triangle'];\r\n    /*\r\n    Working towards midi support\r\n\r\n    Equations for the Frequency Table\r\n\r\n    The basic formula for the frequencies of the notes of the equal tempered scale is given by\r\n    fn = f0 * (a)n\r\n    where\r\n    f0 = the frequency of one fixed note which must be defined. A common choice is setting the A above middle C (A4) at f0 = 440 Hz.\r\n    n = the number of half steps away from the fixed note you are. If you are at a higher note, n is positive. If you are on a lower note, n is negative.\r\n    fn = the frequency of the note n half steps away.\r\n    a = (2)1/12 = the twelth root of 2 = the number which when multiplied by itself 12 times equals 2 = 1.059463094359...\r\n\r\n    The wavelength of the sound for the notes is found from\r\n    Wn = c/fn\r\n    where W is the wavelength and c is the speed of sound. The speed of sound depends on temperature, but is approximately 345 m/s at \"room temperature.\"\r\n\r\n    Examples using A4 = 440 Hz:\r\n\r\n    C5 = the C an octave above middle C. This is 3 half steps above A4 and so the frequency is\r\n    f3 = 440 * (1.059463..)3 = 523.3 Hz\r\n    If your calculator does not have the ability to raise to powers, then use the fact that\r\n    (1.059463..)3 = (1.059463..)*(1.059463..)*(1.059463..)\r\n    That is, you multiply it by itself 3 times.\r\n\r\n    Middle C is 9 half steps below A4 and the frequency is:\r\n    f -9 = 440 * (1.059463..)-9 = 261.6 Hz\r\n    If you don't have powers on your calculator, remember that the negative sign on the power means you divide instead of multiply. For this example, you divide by (1.059463..) 9 times.\r\n\r\n    Source: http://www.phy.mtu.edu/~suits/NoteFreqCalcs.html\r\n    */\r\n    this.A4=440;\r\n    this.oscillators=createVoices();\r\n    this.lfoData={\r\n      wave:1,\r\n      detune:50,\r\n      osc1:20,\r\n      osc2:20,\r\n      osc3:20,\r\n      freq:2,\r\n      type:'Lfo',\r\n      modType:0\r\n    }\r\n    this.oscPresets=[\r\n      {\r\n        wave:1,\r\n        detune:0.01,\r\n        octave:-3,\r\n        volume:100,\r\n      },\r\n      {\r\n        wave:1,\r\n        detune:5,\r\n        octave:3,\r\n        volume:100,\r\n      },\r\n      {\r\n        wave:1,\r\n        detune:10,\r\n        octave:4,\r\n        volume:100,\r\n      }\r\n    ]\r\n    this.masterVol=50;\r\n    this.modMult=10;\r\n    // this.lpf=this.audio.createBiquadFilter();\r\n    this.master = this.audio.createGain();\r\n    this.master.gain.value=1.0;\r\n    this.effectOutput=this.audio.createGain();\r\n\r\n\r\n    // this.lpf.connect(this.master);\r\n    this.master.connect(this.effectOutput);\r\n    this.effectOutput.gain.value=2.0;\r\n    this.effectOutput.connect(this.ab.synthIn);\r\n\r\n    this.lpfCutoff = 50;\r\n    this.lpfQ = 7.0;\r\n    this.lpfMod = 21;\r\n    this.lpfEnv = 56;\r\n\r\n    this.envA = 2;\r\n    this.envD = 15;\r\n    this.envS = 68;\r\n    this.envR = 5;\r\n\r\n    this.lpfA = 5;\r\n    this.lpfD = 6;\r\n    this.lpfS = 5;\r\n    this.lpfR = 7;\r\n\r\n    this.notes=[\r\n      {note:'c' ,hz:261.626 ,color:true, key:'a', isPlaying:false},\r\n      {note:'c#' ,hz:277.183 ,color:false, key:'w', isPlaying:false},\r\n      {note:'d' ,hz:293.66 ,color:true, key:'s', isPlaying:false},\r\n      {note:'d#' ,hz:311.127 ,color:false, key:'e', isPlaying:false},\r\n      {note:'e' ,hz:329.628 ,color:true, key:'d', isPlaying:false},\r\n      {note:'f' ,hz:349.228 ,color:true, key:'f', isPlaying:false},\r\n      {note:'f#' ,hz:369.994 ,color:false, key:'t', isPlaying:false},\r\n      {note:'g' ,hz:391.995 ,color:true, key:'g', isPlaying:false},\r\n      {note:'g#' ,hz:415.305 ,color:false, key:'y', isPlaying:false},\r\n      {note:'a' ,hz:440 ,color:true, key:'h', isPlaying:false},\r\n      {note:'a#' ,hz:466.164 ,color:false, key:'u', isPlaying:false},\r\n      {note:'b' ,hz:493.883 ,color:true, key:'j', isPlaying:false},\r\n      {note:'c' ,hz:523.252 ,color:true, key:'k', isPlaying:false},\r\n      {note:'c#' ,hz:554.366 ,color:false, key:'o', isPlaying:false},\r\n      {note:'d' ,hz:587.33 ,color:true, key:'l', isPlaying:false},\r\n      {note:'d#' ,hz:622.254 ,color:false, key:'p', isPlaying:false},\r\n      {note:'e' ,hz:659.256 ,color:true, key:';', isPlaying:false},\r\n      {note:'f' ,hz:698.456 ,color:true, key:\"'\", isPlaying:false}\r\n    ];\r\n    this.x=0;\r\n    this.y=0;\r\n    for(let i in this.notes){\r\n      this.notes[i].element;\r\n    }\r\n\r\n    window.addEventListener('keydown', this.play.bind(this));\r\n    window.addEventListener('keyup', this.stop.bind(this));\r\n\r\n    this.ea.subscribe('play-key', msg=>{\r\n      console.log(msg);\r\n      this.playKey(msg.index);\r\n    });\r\n\r\n    this.ea.subscribe('stop-key', msg=>{\r\n      this.stopKey(msg.index);\r\n    });\r\n\r\n  }\r\n  openEffects(){\r\n    this.dialog.open({\r\n      viewModel:EditEffects,\r\n      lock:false,\r\n      model:'effects'\r\n    }).then(res=>{\r\n      console.log(res);\r\n    })\r\n  }\r\n  activate(a,b,c){\r\n\r\n  }\r\n\r\n  canDeactivate() {\r\n\r\n  }\r\n  attached(){\r\n\r\n  }\r\n  play(e){\r\n    let s=e.key;\r\n    console.log(e);\r\n    for(let i in this.notes){\r\n      if(!e.key){\r\n        if(String.fromCharCode(e.keyCode)==this.notes[i].key||String.fromCharCode(e.keyCode)==this.notes[i].key.toUpperCase()){\r\n          this.playKey(i);\r\n        }\r\n      }else{\r\n        if(s==this.notes[i].key){\r\n          this.playKey(i);\r\n        }\r\n      }\r\n    }\r\n  }\r\n  stop(e){\r\n    let s=e.key;\r\n    for(let i in this.notes){\r\n      if(!e.key){\r\n        if(String.fromCharCode(e.keyCode)==this.notes[i].key||String.fromCharCode(e.keyCode)==this.notes[i].key.toUpperCase()){\r\n          this.stopKey(i);\r\n        }\r\n      }else{\r\n        if(s==this.notes[i].key){\r\n          this.stopKey(i);\r\n        }\r\n      }\r\n    }\r\n  }\r\n  playKey(i){\r\n    //change filters and envelopes to be note properties later\r\n     if(this.notes[i].isPlaying===false){\r\n       this.lfo=this.audio.createOscillator();\r\n       this.lfo.type=this.waves[this.lfoData.wave];\r\n       this.lfo.frequency.value=this.lfoData.freq;\r\n       this.lfo.detune.value=this.lfoData.detune;\r\n       this.master.gain.value=this.masterVol/50;\r\n\r\n       for(var ii=0;ii<this.oscillators.length;ii++){\r\n         //add filters\r\n         this.notes[i]['f1'+i] = this.ab.audio.createBiquadFilter();\r\n         this.notes[i]['f1'+i].type = \"lowpass\";\r\n         this.notes[i]['f1'+i].Q.value = this.lpfQ;\r\n         this.notes[i]['f1'+i].frequency.value = this.lpfCutoff*100;\r\n         this.notes[i]['f2'+i] = this.ab.audio.createBiquadFilter();\r\n         this.notes[i]['f2'+i].type = \"lowpass\";\r\n         this.notes[i]['f2'+i].Q.value = this.lpfQ;\r\n         this.notes[i]['f2'+i].frequency.value = this.lpfCutoff*100;\r\n         //add oscillators\r\n         this.notes[i]['g'+ii]=this.ab.audio.createGain();\r\n         this.notes[i]['o'+ii]=this.ab.audio.createOscillator();\r\n         this.notes[i]['o'+ii].detune.value=this.oscillators[ii].detune-50;\r\n         console.log(this.oscillators[ii].octave-3);\r\n         if(this.oscillators[ii].octave-3==0){\r\n           this.notes[i]['o'+ii].frequency.value=this.notes[i].hz;\r\n         }else if (this.oscillators[ii].octave-3>0){\r\n           this.notes[i]['o'+ii].frequency.value=this.notes[i].hz * 2*(this.oscillators[ii].octave-3);\r\n         }else{\r\n           this.notes[i]['o'+ii].frequency.value=this.notes[i].hz * 2/Math.abs(this.oscillators[ii].octave-3);\r\n         }\r\n         this['lfoOscGain'+ii]=this.ab.audio.createGain();\r\n         this.lfo.connect(this['lfoOscGain'+ii]);\r\n         this['lfoOscGain'+ii].gain.value=this.lfoData['osc'+(ii+1)]/100;\r\n        //  this['lfoOscGain'+ii].disconnect();\r\n        //  if(this.lfoData.modType===0){\r\n        //    this['lfoOscGain'+ii].connect(this.notes[i]['o'+ii].frequency);\r\n        //  }\r\n         this.notes[i]['o'+ii].type=this.waves[this.oscillators[ii].wave];\r\n         this.notes[i]['o'+ii].connect(this.notes[i]['g'+ii]);\r\n         this.notes[i]['g'+ii].gain.value=0.005*this.oscillators[ii].volume;\r\n         this.notes[i]['g'+ii].connect( this.notes[i]['f1'+i] );\r\n         this.notes[i]['f1'+i].connect( this.notes[i]['f2'+i] );\r\n         this.modfilterGain=this.ab.audio.createGain();\r\n         this.lfo.connect(this.modfilterGain);\r\n         this.modfilterGain.gain.value=this.lpfMod*24;\r\n         this.modfilterGain.connect( this.notes[i]['f1'+i].detune );\t// filter tremolo\r\n  \t     this.modfilterGain.connect( this.notes[i]['f2'+i].detune );\t// filter tremolo\r\n\r\n         //add envelopes and connect to filters\r\n         this.notes[i]['e'+i]=this.ab.audio.createGain();\r\n         this.notes[i]['f2'+i].connect(this.notes[i]['e'+i]);\r\n        //  this.cutoff=this.ab.audio.createBiquadFilter();\r\n        //  this.filter1.connect(this.cutoff);\r\n        //  this.filter2.connect(this.cutoff);\r\n        //  this.cutoff.connect(this.notes[i]['e'+i]);\r\n         this.notes[i]['e'+i].connect(this.master);\r\n        //  if(this.lfoData.modType===1){\r\n        //    this.lfoOscGain1.connect(this.cutoff.frequency);\r\n        //    this.lfoOscGain2.connect(this.filter2.frequency);\r\n        //  }\r\n         var now = this.ab.audio.currentTime;\r\n         var atkEnd=now + (this.envA/100.0);\r\n         this.notes[i]['e'+i].gain.value = 0.0;\r\n      \t this.notes[i]['e'+i].gain.setValueAtTime( 0.0, now );\r\n      \t this.notes[i]['e'+i].gain.linearRampToValueAtTime( 1.0, atkEnd );\r\n      \t this.notes[i]['e'+i].gain.setTargetAtTime( (this.envS/100.0), atkEnd, (this.envD/100.0)+0.001 );\r\n\r\n         var filterAttackLevel = this.lpfEnv*72;\r\n         var filterSustainLevel = filterAttackLevel* this.lpfS / 100.0;\r\n         var filterAttackEnd = (this.lpfA/100.0);\r\n\r\n         if (!filterAttackEnd){\r\n           filterAttackEnd=0.05; // tweak to get target decay to work properly\r\n         }\r\n\r\n       \t this.notes[i]['f1'+i].detune.setValueAtTime( 0, now );\r\n      \t this.notes[i]['f1'+i].detune.linearRampToValueAtTime( filterAttackLevel, now+filterAttackEnd );\r\n      \t this.notes[i]['f2'+i].detune.setValueAtTime( 0, now );\r\n      \t this.notes[i]['f2'+i].detune.linearRampToValueAtTime( filterAttackLevel, now+filterAttackEnd );\r\n      \t this.notes[i]['f1'+i].detune.setTargetAtTime( filterSustainLevel, now+filterAttackEnd, (this.lpfD/100.0)+0.001 );\r\n      \t this.notes[i]['f2'+i].detune.setTargetAtTime( filterSustainLevel, now+filterAttackEnd, (this.lpfD/100.0)+0.001 );\r\n       }\r\n\r\n\r\n\r\n\r\n       for(var ii=0;ii<this.oscillators.length;ii++){\r\n         this.notes[i]['o'+ii].start(0);\r\n        //  this.notes[i]['g'+ii].gain.cancelScheduledValues(this.ab.audio.currentTime);\r\n        //  this.notes[i]['g'+ii].gain.setValueAtTime(0, this.ab.audio.currentTime);\r\n        //  this.notes[i]['g'+ii].gain.linearRampToValueAtTime(this.oscillators[ii].volume/100, this.ab.audio.currentTime + this.envA/100.0);\r\n       }\r\n         this.lfo.start(0);\r\n         this.notes[i].isPlaying=true;\r\n\r\n      }\r\n  }\r\n\r\n  stopKey(i){\r\n    if(this.notes[i].isPlaying===true){\r\n      var now =  this.ab.audio.currentTime;\r\n    \tvar release = now + (this.envR/100.0);\r\n    \tthis.notes[i]['e'+i].gain.cancelScheduledValues(now);\r\n    \tthis.notes[i]['e'+i].gain.setValueAtTime( this.notes[i]['e'+i].gain.value, now );\r\n    \tthis.notes[i]['e'+i].gain.setTargetAtTime(0.0, now, (this.envR/100.0)+0.001);\r\n    \tthis.notes[i]['f1'+i].detune.cancelScheduledValues(now);\r\n    \tthis.notes[i]['f1'+i].detune.setTargetAtTime( 0, now, (this.lpfR/100.0) +0.001);\r\n    \tthis.notes[i]['f2'+i].detune.cancelScheduledValues(now);\r\n    \tthis.notes[i]['f2'+i].detune.setTargetAtTime( 0, now, (this.lpfR/100.0) +0.001);\r\n\r\n    for(var ii=0;ii<this.oscillators.length;ii++){\r\n      this.notes[i]['g'+ii].gain.cancelScheduledValues(now);\r\n      this.notes[i]['g'+ii].gain.setTargetAtTime( 0, now, (this.envR/100.0) +0.001);\r\n      this.notes[i]['o'+ii].stop(now+(this.envR/30.0));\r\n    }\r\n      this.notes[i].isPlaying=false;\r\n    }\r\n  }\r\n}\r\nfunction createVoices(){\r\n  var arr=[];\r\n  for(var i=0;i<3;i++){\r\n    arr.push(function(){\r\n      var voice={\r\n        volume:50,\r\n        wave:1,\r\n        octave:0,\r\n        type:'Oscillator',\r\n        detune:50\r\n      }\r\n      return voice\r\n    });\r\n  }\r\n  return arr;\r\n}\r\nexport class UpperValueConverter {\r\n  toView(value){\r\n    return value && value.toUpperCase();\r\n  }\r\n}\r\n","import {inject, bindable} from 'aurelia-framework';\r\nexport class Oscillator{\r\n  // @bindable wave;\r\n  // @bindable volume;\r\n  // @bindable type;\r\n  // @bindable octave;\r\n  // @bindable freq;\r\n  // @bindable detune;\r\n  // @bindable gain;\r\n  // @bindable osc1;\r\n  // @bindable osc2;\r\n  // @bindable modtype;\r\n  @bindable osc;\r\n  @bindable preset;\r\n  @bindable type\r\n  @bindable index;\r\n  constructor(){\r\n\r\n  }\r\n}\r\n","import {inject} from 'aurelia-framework';\r\nimport {bindable} from 'aurelia-framework';\r\nimport {Piano} from '../piano';\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\n\r\n@inject(Element, Piano, EventAggregator)\r\nexport class PianoKeyCustomElement{\r\n  @bindable key;\r\n  @bindable assigned;\r\n  @bindable playing\r\n  @bindable index;\r\n\r\n  constructor(element, piano, ea){\r\n    this.element=element;\r\n    this.ea=ea;\r\n  }\r\n   attached(){\r\n\r\n   }\r\n   play(){\r\n     this.ea.publish('play-key', {index:this.index});\r\n   }\r\n   stop(){\r\n     this.ea.publish('stop-key', {index:this.index});\r\n   }\r\n\r\n}\r\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,"$body-bgcolor: #eee;\r\n\r\nbody{\r\n  background-color: $body-bgcolor ;\r\n}\r\nnav .brand-logo,\r\n.brand-logo{\r\n  margin-left: 15px;\r\n  font-size: 18px;\r\n}\r\n[md-tabs] .waves-effect {\r\n  position: static;\r\n}\r\n.parallax-container{\r\n  height: 800px;\r\n}\r\n.b-radius-card{\r\n  border-radius: 0 0 2px 2px;\r\n}\r\n.p2 path{\r\n  fill:#2196f3;\r\n  stroke:none;\r\n}\r\n.p2 path:first-child{\r\n  stroke:none;\r\n  fill:#fff;\r\n\r\n}\r\n#synth,\r\n#sequencer-controller{\r\n  .p2 path:first-child{\r\n    fill:#eee;\r\n  }\r\n  .p2 path{\r\n    stroke:none;\r\n    fill:#00E676;\r\n\r\n  }\r\n}\r\n.showcase-tabs{\r\n\r\n  .indicator{\r\n    background: #2196f3 !important;\r\n  }\r\n  li{\r\n    a.active{\r\n      color: #2196f3 !important;\r\n    }\r\n    a{\r\n      color:#343434 !important;\r\n    }\r\n  }\r\n}\r\n@media only screen and (max-width: 992px){\r\n  nav .brand-logo {\r\n      left: initial !important;\r\n      -webkit-transform: none !important;\r\n      transform: none !important;\r\n  }\r\n}\r\n",null,".card-content .row{\r\n  margin: 0;\r\n}\r\n.card-left{\r\n  display: table-cell;\r\n  /*border-right: 1px solid #f5f5f5;*/\r\n  height: 100%;\r\n  padding: 0 20px;\r\n}\r\n.card-right{\r\n  display: table-cell;\r\n  /*border-left: 1px solid #f5f5f5;*/\r\n  height: 100%;\r\n  padding: 0 20px;\r\n}\r\n.card-right>div,\r\n.card-left>div{\r\n  height: 20%;\r\n}\r\nmd-card>.card{\r\n  background-color: inherit;\r\n}\r\n.input-field.inline.col.m4{\r\n  text-align: center;\r\n}\r\nlabel.sm{\r\n  font-size: 0.8rem;\r\n  /*position: absolute !important;*/\r\n  top:-14px !important;\r\n  left: 0rem !important;\r\n}\r\n.select-wrapper{\r\n  margin-top: 0px;\r\n}\r\n.select-wrapper+label{\r\n  color:#343434 !important;\r\n}\r\n.tab-content.grey{\r\n\r\n}\r\nsound-wave{\r\n  position: absolute;\r\n  border-radius: 2px;\r\n  overflow: hidden;\r\n  z-index: 0;\r\n  // height: 100%;\r\n  // width: 100%;\r\n  // top:0;\r\n  canvas{\r\n    height:100%;\r\n    width:100%\r\n  }\r\n}\r\n.canvas-as-bg{\r\n  p{\r\n    color: #fff !important\r\n  }\r\n}\r\n// #synth{\r\n//   background: -webkit-canvas(synthbg) no-repeat 50% 50%;\r\n// }\r\n// #synth{\r\n//   background: -webkit-canvas(seqbg) no-repeat 50% 50%;\r\n// }\r\n#synth,\r\n#sequencer-controller{\r\n  background: #2196f3;\r\n  #synthfilter{\r\n    z-index: 1;\r\n    position: relative;\r\n  }\r\n  .p2 rect,\r\n  .p1 rect{\r\n    fill:#00E676 ;\r\n  }\r\n  .p2 circle,\r\n  .p1 circle{\r\n    stroke:#00E676 ;\r\n  }\r\n  .p1 text{\r\n    fill: #ddd;\r\n  }\r\n  .p1 text.active{\r\n    fill:#fff;\r\n  }\r\n}\r\n.p2 rect,\r\n.p1 rect {\r\n  fill: #2196f3;\r\n}\r\n.p2 g polygon,\r\n.p1 g polygon {\r\n  opacity: 1;\r\n}\r\n.p2 circle,\r\n.p1 circle {\r\n  fill: #fff;\r\n  stroke: #2196f3;\r\n  stroke-width: 2;\r\n  -webkit-filter: url(#dropshadow);\r\n   filter: url(#dropshadow);\r\n}\r\n\r\n.p1 text {\r\n  font-size: 10px;\r\n  fill: rgba(0, 0, 0, 0.870588);\r\n  font-family: sans-serif;\r\n  font-weight: 300;\r\n  -webkit-transition: all .1s ease-in-out;\r\n}\r\n\r\n.p1 text.active {\r\n  font-size: 12px;\r\n  -webkit-transition: all .3s ease-in-out;\r\n  fill:#2196f3;\r\n}\r\nsvg:not(:root){\r\n  overflow: visible;\r\n}\r\n\r\n\r\n.wave-shape{\r\n  width: 36px;\r\n  padding: 0;\r\n}\r\n#right form,\r\n#left form{\r\n  padding: 0;\r\n}\r\n#left form>div:first-child{\r\n  padding-left: 0;\r\n}\r\n\r\n#right form>div:last-child{\r\n  padding-right: 0;\r\n}\r\n.dropdown-content li>span{\r\n  color:#2196f3 !important;\r\n}\r\ninput:focus:not([type]):not([readonly]), input[type=\"text\"]:focus:not([readonly]), input[type=\"password\"]:focus:not([readonly]), input[type=\"email\"]:focus:not([readonly]), input[type=\"url\"]:focus:not([readonly]), input[type=\"time\"]:focus:not([readonly]), input[type=\"date\"]:focus:not([readonly]), input[type=\"datetime\"]:focus:not([readonly]), input[type=\"datetime-local\"]:focus:not([readonly]), input[type=\"tel\"]:focus:not([readonly]), input[type=\"number\"]:focus:not([readonly]), input[type=\"search\"]:focus:not([readonly]), textarea.materialize-textarea:focus:not([readonly]) {\r\n    border-bottom: 1px solid #2196f3;\r\n    box-shadow: 0 1px 0 0 #2196f3;\r\n}\r\ninput:not([type]):focus:not([readonly])+label,input[type=text]:focus:not([readonly])+label,input[type=password]:focus:not([readonly])+label,input[type=email]:focus:not([readonly])+label,input[type=url]:focus:not([readonly])+label,input[type=time]:focus:not([readonly])+label,input[type=date]:focus:not([readonly])+label,input[type=datetime]:focus:not([readonly])+label,input[type=datetime-local]:focus:not([readonly])+label,input[type=tel]:focus:not([readonly])+label,input[type=number]:focus:not([readonly])+label,input[type=search]:focus:not([readonly])+label,textarea.materialize-textarea:focus:not([readonly])+label {\r\n\tcolor:#2196f3;\r\n}\r\ninput[type=\"range\"]+.thumb{\r\n  background: #2196f3;\r\n}\r\n.range-field.inline input[type=\"checkbox\"]{\r\n  margin-top: 10px;\r\n}\r\ninput[type=range]::-webkit-slider-thumb {\r\n    background-color: #2196f3;\r\n  }\r\n  input[type=range]::-moz-range-thumb {\r\n    background-color: #2196f3;\r\n  }\r\n  input[type=range]::-ms-thumb {\r\n    background-color: #2196f3;\r\n  }\r\n.range-field.inline input{\r\n  width:100%;\r\n}\r\n.range-field.inline label{\r\n  display: block;\r\n  text-align: left !important;\r\n}\r\n.mute-label{\r\n  color:#9e9e9e;\r\n}\r\ntd{\r\n  padding: 5px;\r\n}\r\nsection {\r\n    margin: 0;\r\n}\r\n.waves-effect.waves-blue .waves-ripple {\r\n/*\r\n  The alpha value allows the text and background color\r\n  of the button to still show through.\r\n*/\r\n  background-color: rgba(3, 169, 244, .65)\r\n}\r\n.navbar-nav li.loader {\r\n    margin: 12px 24px 0 6px;\r\n}\r\n\r\n.pictureDetail {\r\n    max-width: 425px;\r\n}\r\n\r\n/* animate page transitions */\r\nsection.au-enter-active {\r\n  -webkit-animation: fadeInRight 1s;\r\n  animation: fadeInRight 1s;\r\n}\r\n\r\ndiv.au-stagger {\r\n  /* 50ms will be applied between each successive enter operation */\r\n  -webkit-animation-delay:50ms;\r\n  animation-delay:50ms;\r\n}\r\n.black0{\r\n  margin-left: 24px;\r\n}\r\n.black1{\r\n\r\n}\r\n.black2{\r\n  margin-left: 48px;\r\n}\r\n.black3{\r\n\r\n}\r\n.black4{\r\n\r\n}\r\n.black5{\r\n  margin-left: 48px;\r\n}\r\n.black6{\r\n\r\n}\r\n.white-notes{\r\n  /*top:-89px;*/\r\n  position: relative;\r\n  margin-top: -90px;\r\n  z-index: 1;\r\n}\r\n.black-notes{\r\n/*  position:absolute;*/\r\n  z-index: 2;\r\n}\r\n",null,"form.col.s12{\r\n  padding: 0;\r\n  margin-bottom:0.75rem;\r\n  .row{\r\n    padding: 0.75rem;\r\n\r\n  }\r\n\r\n}\r\n@media only screen and (max-width: 600px){\r\n  tr>td{\r\n    padding: 5px 1px;\r\n  }\r\n  tr>td:first-child{\r\n    padding: 5px;\r\n  }\r\n}\r\n",null,null,"section{\r\n  background:#eee;\r\n}\r\n.tabs .indicator{\r\n  background-color: #2196f3;\r\n}\r\nknob{\r\n  p{\r\n    text-align: center;\r\n  }\r\n  div{\r\n    margin:0 auto;\r\n  }\r\n}\r\nknob>p{\r\n  margin-bottom: 7px !important;\r\n\r\n}\r\noscillator{\r\n  .row{\r\n    .col{\r\n      padding: 0;\r\n    }\r\n  }\r\n}\r\nform{\r\n  div.grey.lighten-3{\r\n    padding:0.75rem 0.375rem !important;\r\n  }\r\n}\r\n.input-field{\r\n  margin-top: 0;\r\n}\r\n.key{\r\n  box-sizing: border-box;\r\n  width:9.091% !important;\r\n  display:inline-block;\r\n  padding:0 !important;overflow: visible;\r\n}\r\n.key{\r\n  h1{\r\n    text-align: center;\r\n    margin: 0;\r\n    font-size: 2.2rem;\r\n  }\r\n  div{\r\n    margin: 0 0.25rem;\r\n    height: 100%;\r\n    border-radius: 0px 0px 5px 5px;\r\n    display: block;\r\n    font-size:12px;\r\n    transition: box-shadow .25s;\r\n\r\n  }\r\n}\r\n\r\n.key.white{\r\n\r\n  height: 220px;\r\n  position: relative;\r\n  h1{\r\n   color:#000;\r\n   padding-top: 11rem;\r\n }\r\n div{\r\n   background-color: transparent;\r\n }\r\n}\r\n.key.white.play{\r\n  div{\r\n    background: rgb(221, 221, 221)\r\n  }\r\n}\r\n.key.black-key{\r\n\r\n  height:148px;\r\n  position: relative;\r\n  z-index: 2;\r\n  text-align: center;\r\n  background: transparent !important;\r\n  left: -4.5455% !important;\r\n  margin-right: -9.091%;\r\n  padding: 0 4px !important;\r\n  div{\r\n      display: inline-block;\r\n      margin: 0 0.25rem;\r\n      outline: none;\r\n      background-color: #000;\r\n      width: 100%;\r\n\r\n    }\r\n  h1{\r\n    color:#fff;\r\n    padding-top: 6rem\r\n  }\r\n\r\n\r\n}\r\n.dial{\r\n  // padding-right: 2px !important;\r\n}\r\n.key.black-key.play{\r\n  background:rgb(113, 113, 113)\r\n}\r\n.key.black-key >\r\n.key-info{\r\n  list-style: none;\r\n  margin:0px;\r\n  padding:0px;\r\n  text-align: center;\r\n}\r\n.key-item{\r\n  height: 100%;\r\n  padding-top: 105%;\r\n}\r\n\r\n.key-item > a{\r\n  padding-top: 50%;\r\n}\r\n.parameter-holder{\r\n  padding: 0;\r\n  margin:0 0.75rem;\r\n}\r\nform.col.m3.s12,\r\nform.col.m4,\r\nform.col.m5,\r\nform.col.m6.s12{\r\n  padding-left: 0;\r\n  padding-right: 0.75rem;\r\n  margin-bottom:0.75rem;\r\n  .row{\r\n    padding: 0.75rem 0.375rem;\r\n\r\n  }\r\n  .col{\r\n    text-align: center;\r\n    padding: 0 0.375rem;\r\n  }\r\n\r\n}\r\nform.col.m3:last-child,\r\nform.col.m4:last-child,\r\nform.col.m6.s12:last-child,\r\nform.col.m5:last-child{\r\n  padding-right: 0;\r\n}\r\n\r\n@media only screen and (max-width: 600px){\r\n  form.col.m3.s12,\r\n  form.col.m4,\r\n  form.col.m5,\r\n  form.col.m6.s12{\r\n    padding: 0;\r\n  }\r\n  .key{\r\n    div{\r\n      margin:0 0.05rem;\r\n    }\r\n  }\r\n}\r\n",null,null,null,null,null,null,null,null,null,null,null],"sourceRoot":"../src"}